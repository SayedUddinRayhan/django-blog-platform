{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="row g-4 mb-4">

  <!-- Sidebar -->
  {% include 'dashboard/sidebar.html' %}

  <!-- Main Content -->
  <section class="col-12 col-md-9 col-lg-10">
    <div class="mb-4">
      <h2 class="fw-semibold">Dashboard</h2>
      <p class="text-muted mb-0">
        Welcome, {{ request.user.get_full_name|default:request.user.username }}
      </p>
    </div>

    <!-- Stats -->
    <div class="row g-3">

      {% if request.user.is_superuser or perms.auth.view_user %}
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card shadow-sm rounded-3">
          <div class="card-body text-center">
            <h6 class="text-muted">Users</h6>
            <h3 class="fw-bold">{{ total_users }}</h3>
          </div>
        </div>
      </div>
      {% endif %}

      {% if request.user.is_superuser or perms.blog.add_category %}
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card shadow-sm rounded-3">
          <div class="card-body text-center">
            <h6 class="text-muted">Categories</h6>
            <h3 class="fw-bold">{{ total_categories }}</h3>
          </div>
        </div>
      </div>
      {% endif %}

      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card shadow-sm rounded-3">
          <div class="card-body text-center">
            <h6 class="text-muted">Blog Posts</h6>
            <h3 class="fw-bold">{{ total_posts }}</h3>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card shadow-sm rounded-3">
          <div class="card-body text-center">
            <h6 class="text-muted">Published</h6>
            <h3 class="fw-bold">{{ total_published_posts }}</h3>
          </div>
        </div>
      </div>

    </div>

  </section>
</div>
{% endblock %}
