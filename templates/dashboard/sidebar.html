<!-- Sidebar -->
<aside class="col-md-3 col-lg-2">
  <div class="card shadow-sm rounded-3">
    <div class="card-body p-3">

      <h6 class="text-uppercase text-muted mb-3">Management</h6>

      <ul class="nav flex-column gap-1">

        <!-- Dashboard -->
        {% if user.is_authenticated %}
        <li class="nav-item">
          <a href="{% url 'dashboard' %}"
             class="nav-link link-body-emphasis {% if request.resolver_match.url_name == 'dashboard' %}active fw-semibold{% endif %}">
            Dashboard
          </a>
        </li>
        {% endif %}

       <!-- My Blogs (Author / Editor with object perms) -->
        {% if perms.blog.add_blogpost %}
        <li class="nav-item">
          <a href="{% url 'my_blogposts' %}"
             class="nav-link link-body-emphasis {% if request.resolver_match.url_name == 'my_blogposts' %}active fw-semibold{% endif %}">
            My Blogs
          </a>
        </li>
        {% endif %} 

        <!-- All Blogs (Editor / Admin) -->
        {% if perms.blog.view_blogpost %}
        <li class="nav-item">
          <a href="{% url 'blogposts' %}"
             class="nav-link link-body-emphasis {% if request.resolver_match.url_name == 'blogposts' %}active fw-semibold{% endif %}">
            All Blogs
          </a>
        </li>
        {% endif %}

        <!-- Categories -->
        {% if perms.blog.view_category %}
        <li class="nav-item">
          <a href="{% url 'categories' %}"
             class="nav-link link-body-emphasis {% if request.resolver_match.url_name == 'categories' %}active fw-semibold{% endif %}">
            Categories
          </a>
        </li>
        {% endif %}

        <!-- Users -->
        {% if perms.auth.view_user %}
        <li class="nav-item">
          <a href="{% url 'user_management' %}"
             class="nav-link link-body-emphasis {% if request.resolver_match.url_name == 'user_management' %}active fw-semibold{% endif %}">
            Users
          </a>
        </li>
        {% endif %}

      </ul>

    </div>
  </div>
</aside>
